<?phpnamespace app\common\lib\send;use app\lib\https\Curl;//网易短信class Wysms extends Curl{    const CONTENT_TYPE='Content-Type:application/x-www-form-urlencoded;charset=utf-8';    //发送短信/语音短信验证码    public static function sendCode($mobile,$templateid)    {        $data = [            'mobile' =>$mobile,            'templateid' =>$templateid,        ];        static $url = 'https://api.netease.im/sms/sendcode.action';        $result = static::sendPost($url,$data,self::checksum(self::CONTENT_TYPE));        if ($result['code']=='200'){           $rs=json_decode($result['data']);           if ($rs->code==200){               return $rs->obj;           }        }            return false;    }    //校验验证码    public static function verifycode($mobile,$code)    {        $data = [            'mobile' =>$mobile,            'code' =>$code,        ];        static $url = 'https://api.netease.im/sms/verifycode.action';        $result = static::sendPost($url,$data,self::checksum(self::CONTENT_TYPE));        if ($result['code']=='200'){            $rs=json_decode($result['data']);            if ($rs->code==200){                return $rs->obj;            }        }        return false;    }    //发送通知类和运营类短信    public static function sendTemplate($mobile,$templateid,$params='')    {        $data = [            'templateid' =>$templateid,            'mobiles' =>json_encode([$mobile]),            'params'=>json_encode([$params]),        ];        static $url = 'https://api.netease.im/sms/sendtemplate.action';        $result = static::sendPost($url,$data,self::checksum(self::CONTENT_TYPE));        if ($result['code']=='200'){            $rs=json_decode($result['data']);            if ($rs->code==200){                return $params;            }        }        return false;    }    // 查询通知类和运营类短信发送状态    public static function queryStatus($sendid)    {        $data = [            'sendid' =>$sendid,        ];        static $url = 'https://api.netease.im/sms/querystatus.action';        $result = static::sendPost($url,$data,self::checksum(self::CONTENT_TYPE));        if ($result['code']=='200'){            $rs=json_decode($result['data']);            if ($rs->code==200){                return $rs->obj;            }        }        return false;    }}